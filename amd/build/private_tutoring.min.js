define(["jquery","core/ajax","core/log","block_products_catalog/bxslider","local_intellicart/intellicart"],function(a,b,c,d,e){var f={productid:0,container:"",loader:"<i class=\"loader fa fa-circle-o-notch fa-spin\"></i>",sliderbox:".productview-instructors-box",contentcontainer:".private-tutoring-instructors",instructoritemcontainer:".productview-instructor-item",instructordetailscontainer:".productview-instructors-details",init:function init(b){f.productid=b;f.container=a(f.contentcontainer);d.init(a,document,window,void 0);f.container.on("click",f.instructoritemcontainer,function(){f.container.find(f.instructoritemcontainer).removeClass("active");a(this).addClass("active");var b=a(this).attr("data-instructor-id");f.loadInstructorDetails(b)});a(f.instructordetailscontainer).on("click",".sessions-list input[type=\"radio\"]",function(){var c=a(this).val();e.getsessionstatus(b,c);a(".product-sessions").find(".session-item").removeClass("open");a(this).parents(".session-item").addClass("open")});a("#product_instructors").on("keyup","#search_instructors",function(){var b=a(this).val().toLowerCase();if(b){a(f.instructoritemcontainer).hide();a(f.instructoritemcontainer).find(".instructorname").each(function(){if(0<=a(this).text().toLowerCase().indexOf(b)){a(this).parents(f.instructoritemcontainer).show()}})}else{a(f.instructoritemcontainer).show()}});a("#product_instructors").on("keypress","#search_instructors",function(a){return 13!==a.which});if(a(f.sliderbox).length){a(f.sliderbox).bxSlider({controls:!0,pager:!1,infiniteLoop:!1,hideControlOnEnd:!0,responsive:!0,minSlides:3,maxSlides:3,moveSlides:3,slideWidth:300,slideMargin:15,shrinkItems:!0,touchEnabled:!1})}},loadInstructorDetails:function loadInstructorDetails(d){a(f.instructordetailscontainer).html(f.loader);b.call([{methodname:"local_intellicart_load_instructor_details",args:{productid:f.productid,instructorid:d,day:""}}])[0].done(function(g){try{a(f.instructordetailscontainer).html(g.content);b.call([{methodname:"local_intellicart_get_product_sessions_days",args:{id:f.productid,purchased:0,instructorid:d}}])[0].done(function(a){try{var b=JSON.parse(a.days);document.getElementById("instructor_session_day").flatpickr({dateFormat:"Y/m/d",onChange:function onChange(a,b){e.disablebuybuttons();f.loadInstructorSessions(d,b)},disable:[function(a){for(var c=0;c<b.length;c++){if(a.getTime()===new Date(b[c]).getTime()){return!1}}return!0}]})}catch(a){c.debug(a.message)}}).fail(function(a){c.debug(a.message)})}catch(b){c.debug(b.message);a(f.instructordetailscontainer).html("")}}).fail(function(b){c.debug(b.message);a(f.instructordetailscontainer).html("")})},loadInstructorSessions:function loadInstructorSessions(d,g){a(f.instructordetailscontainer).find(e.sessionscontainer).html(e.loader);b.call([{methodname:"local_intellicart_get_product_sessions_time",args:{id:f.productid,day:g,purchased:0,instructorid:d,checkoutid:0}}])[0].done(function(b){try{a(f.instructordetailscontainer).find(e.sessionscontainer).html(b.sessions)}catch(a){c.debug(a.message)}}).fail(function(a){c.debug(a.message)})}};return f});
//# sourceMappingURL=private_tutoring.min.js.map
