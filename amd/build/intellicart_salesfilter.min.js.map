{"version":3,"sources":["../src/intellicart_salesfilter.js"],"names":["define","$","ajax","str","mdlcfg","log","flatpickr","SalesFilter","init","timestart_date","timefinish_date","document","getElementById","mode","dateFormat","defaultDate","onReady","selectedDates","dateStr","instance","class","text","attr","appendTo","info","onChange","dateObj","length","formsubmit","keyup","e","keyCode","click","val","submit"],"mappings":"yQAsBAA,MAAM,CAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,UAAxB,CAAoC,aAApC,CAAmD,UAAnD,CAA+D,6BAA/D,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAkBC,CAAlB,CAAuBC,CAAvB,CAA+BC,CAA/B,CAAoCC,CAApC,CAA+C,CAE/C,GAAIC,CAAAA,CAAW,CAAG,CAEdC,IAAI,CAAE,cAASC,CAAT,CAAyBC,CAAzB,CAA0C,CAE5CC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCN,SAArC,CAA+C,CAC3CO,IAAI,CAAE,OADqC,CAE3CC,UAAU,CAAE,OAF+B,CAG3CC,WAAW,CAAE,CAACN,CAAD,CAAiBC,CAAjB,CAH8B,CAI3CM,OAAO,CAAE,iBAASC,CAAT,CAAwBC,CAAxB,CAAiCC,CAAjC,CAA0C,CAC/ClB,CAAC,CAAC,QAAD,CAAW,CACRmB,KAAK,CAAE,0BADC,CAERC,IAAI,CAAEpB,CAAC,CAAC,YAAD,CAAD,CAAgBqB,IAAhB,CAAqB,OAArB,CAFE,CAAX,CAAD,CAGGC,QAHH,CAGY,qBAHZ,EAIAlB,CAAG,CAACmB,IAAJ,SAAgBL,CAAhB,EACH,CAV0C,CAW3CM,QAAQ,CAAE,kBAASC,CAAT,CAAkBR,CAAlB,CAA2B,CACjC,GAAsB,CAAlB,EAAAQ,CAAO,CAACC,MAAZ,CAAyB,CACrBpB,CAAW,CAACqB,UAAZ,GACAvB,CAAG,CAACmB,IAAJ,CAASN,CAAT,CACH,CACJ,CAhB0C,CAA/C,EAmBAjB,CAAC,CAAC,wBAAD,CAAD,CAA0B4B,KAA1B,CAAgC,SAASC,CAAT,CAAW,CACvC,GAAgB,EAAb,EAAAA,CAAC,CAACC,OAAL,CACA,CACIxB,CAAW,CAACqB,UAAZ,EACH,CACJ,CALD,EAOA3B,CAAC,CAAC,kBAAD,CAAD,CAAsB+B,KAAtB,CAA4B,UAAU,CAClC/B,CAAC,CAAC,YAAD,CAAD,CAAgBgC,GAAhB,CAAoB,EAApB,EACA1B,CAAW,CAACqB,UAAZ,EACH,CAHD,EAKA3B,CAAC,CAAC,eAAD,CAAD,CAAmB+B,KAAnB,CAAyB,UAAU,CAC/B/B,CAAC,CAAC,wBAAD,CAAD,CAA4BgC,GAA5B,CAAgC,EAAhC,EACA1B,CAAW,CAACqB,UAAZ,GACAvB,CAAG,CAACmB,IAAJ,SAAgBlB,CAAhB,EACH,CAJD,CAMH,CAzCa,CA2CdsB,UAAU,CAAE,oBAASnB,CAAT,CAAyBC,CAAzB,CAA0C,CAClDT,CAAC,CAAC,kCAAD,CAAD,CAAsCiC,MAAtC,GACA7B,CAAG,CAACmB,IAAJ,SAAgBd,CAAhB,EACH,CA9Ca,CAAlB,CAqDA,MAAOH,CAAAA,CAEV,CA1DK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Version details\n *\n * @package    local_intellicart\n * @copyright  2017 SEBALE (http://sebale.net)\n */\n\ndefine(['jquery', 'core/ajax', 'core/str', 'core/config', 'core/log', 'local_intellicart/flatpickr'],\n    function($, ajax, str, mdlcfg, log, flatpickr) {\n\n    var SalesFilter = {\n\n        init: function(timestart_date, timefinish_date) {\n\n            document.getElementById(\"daterange\").flatpickr({\n                mode: \"range\",\n                dateFormat: \"Y-m-d\",\n                defaultDate: [timestart_date, timefinish_date],\n                onReady: function(selectedDates, dateStr, instance){\n                    $('<div/>', {\n                        class: 'flatpickr-calendar-title',\n                        text: $(\"#daterange\").attr('title')\n                    }).appendTo('.flatpickr-calendar');\n                    log.info(typeof(instance));\n                },\n                onChange: function(dateObj, dateStr) {\n                    if (dateObj.length == 2) {\n                        SalesFilter.formsubmit();\n                        log.info(dateStr);\n                    }\n                },\n            });\n\n            $('input[name=\"search\"]').keyup(function(e){\n                if(e.keyCode == 13)\n                {\n                    SalesFilter.formsubmit();\n                }\n            });\n\n            $('.daterange-clear').click(function(){\n                $(\"#daterange\").val('');\n                SalesFilter.formsubmit();\n            });\n\n            $('.search-clear').click(function(){\n                $(\"input[name=\\\"search\\\"]\").val('');\n                SalesFilter.formsubmit();\n                log.info(typeof(flatpickr));\n            });\n\n        },\n\n        formsubmit: function(timestart_date, timefinish_date) {\n            $('#filter_form, #groupbyFilterForm').submit();\n            log.info(typeof(timefinish_date));\n        }\n\n    };\n\n    /**\n     * @alias module:local_intellicart/intellicart_salesfilter\n     */\n    return SalesFilter;\n\n});"],"file":"intellicart_salesfilter.min.js"}